<launch>
  <arg name="model" default="$(env TURTLEBOT3_MODEL)" doc="model type [burger, waffle, waffle_pi, romi]"/>
  <arg name="multi_robot_name" default=""/>

  <group if="$(eval model == 'romi')">
   <node pkg="ros_arduino_python" name="turtlebot3_core" type="arduino_node.py" output="screen">
    <rosparam file="$(find ros_arduino_python)/config/my_arduino_params.yaml" command="load" />
   </node>
  </group>
  <group if="$(eval model != 'romi')">
   <node pkg="rosserial_python" type="serial_node.py" name="turtlebot3_core" output="screen">
    <param name="port" value="/dev/ttyACM0"/>
    <param name="baud" value="115200"/>
    <param name="tf_prefix" value="$(arg multi_robot_name)"/>
   </node>
  </group>
</launch>
